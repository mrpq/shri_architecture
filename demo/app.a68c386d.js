parcelRequire=function(e,r,n){var t="function"==typeof parcelRequire&&parcelRequire,i="function"==typeof require&&require;function u(n,o){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!o&&f)return f(n,!0);if(t)return t(n,!0);if(i&&"string"==typeof n)return i(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}a.resolve=function(r){return e[n][1][r]||r};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,a,l,l.exports)}return r[n].exports;function a(e){return u(a.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=t;for(var o=0;o<n.length;o++)u(n[o]);return u}({10:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}();function n(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var t=function(){function t(){n(this,t),this.eventHandlers=[]}return e(t,[{key:"trigger",value:function(e,n){this.eventHandlers.find(function(n){return n.eventName===e}).cb.bind(this)(n)}},{key:"subscribe",value:function(e,n){this.eventHandlers.push({eventName:e,cb:n})}}]),t}();exports.default=t;
},{}],11:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}();function n(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var t=function(){function t(){n(this,t),this.entries=[],this.logElem=document.querySelector(".js-log")}return e(t,[{key:"addEntry",value:function(e){this.entries.push(e),console.log(e),this.onLogUpdate(e)}},{key:"onLogUpdate",value:function(e){var n=document.createElement("p");n.classList.add("log-entry"),n.innerHTML=e,this.logElem.appendChild(n)}}]),t}(),o=new t;exports.default=o;
},{}],5:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.LoggingStore=void 0;var t=function t(e,r,o){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,r);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,r,o)}if("value"in n)return n.value;var u=n.get;return void 0!==u?u.call(o):void 0},e=function(){function t(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,r,o){return r&&t(e.prototype,r),o&&t(e,o),e}}(),r=require("./Observer"),o=u(r),n=require("./Logger"),i=u(n);function u(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var l=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a(this,t),this.subscribers=[],this.state=e}return e(t,[{key:"getState",value:function(){return this.state}},{key:"emmit",value:function(t){this.subscribers.forEach(function(e){return e.trigger(t)})}},{key:"subscribe",value:function(t){this.subscribers.push(t)}}]),t}(),f=exports.LoggingStore=function(r){function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a(this,o);var e=s(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,t));return e.logger=i.default,e}return c(o,l),e(o,[{key:"emmit",value:function(e){var r="Store отправляет подписчикам событие "+e;this.logger.addEntry(r),t(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"emmit",this).call(this,e)}},{key:"subscribe",value:function(e){var r=e+" подписывается на события Store";this.logger.addEntry(r),t(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"subscribe",this).call(this,e)}}]),o}();exports.default=l;
},{"./Observer":10,"./Logger":11}],6:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.loggingDispatcher=void 0;var t=function t(e,r,o){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,r);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,r,o)}if("value"in n)return n.value;var c=n.get;return void 0!==c?c.call(o):void 0},e=function(){function t(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,r,o){return r&&t(e.prototype,r),o&&t(e,o),e}}(),r=require("./Logger"),o=n(r);function n(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=function(){function t(){u(this,t),this.callbacks=[]}return e(t,[{key:"subscribe",value:function(t){this.callbacks.push(t)}},{key:"dispatch",value:function(t){this.callbacks.forEach(function(e){return e(t)})}}]),t}(),s=new a;exports.default=s;var l=function(r){function n(){u(this,n);var t=i(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.logger=o.default,t}return c(n,a),e(n,[{key:"subscribe",value:function(e){this.logger.addEntry("Store подписывается на события dispatcher"),t(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"subscribe",this).call(this,e)}},{key:"dispatch",value:function(e){var r="Dispatcher диспатчит в подписанные store's экшн "+JSON.stringify(e);this.logger.addEntry(r),t(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"dispatch",this).call(this,e)}}]),n}(),p=exports.loggingDispatcher=new l;
},{"./Logger":11}],7:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=exports.DATA_SENT_SUCCESS="DATA_SENT_SUCCESS";
},{}],3:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../MyFlux/Store"),t=require("../MyFlux/Dispatcher"),r=require("./actions/constants"),i=function(e){var t=e.action,i=e.payload;switch(t){case r.DATA_SENT_SUCCESS:this.state.data=i}this.emmit("store_updated")},s=function(){var r=new e.LoggingStore;return t.loggingDispatcher.subscribe(i.bind(r)),r};exports.default=s;
},{"../MyFlux/Store":5,"../MyFlux/Dispatcher":6,"./actions/constants":7}],8:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.LoggingView=void 0;var e=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var u=o.get;return void 0!==u?u.call(n):void 0},t=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(n=(u=a.next()).done)&&(r.push(u.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),n=require("./Observer"),o=a(n),i=require("./Logger"),u=a(i);function a(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(e){function n(e){c(this,n);var r=f(this,(n.__proto__||Object.getPrototypeOf(n)).call(this)),o=e.name,i=e.methods,u=e.fields,a=e.render,l=e.init;return r.name=o,Object.entries(i).forEach(function(e){var n=t(e,2),o=n[0],i=n[1];r[o]=i.bind(r)}),Object.entries(u).forEach(function(e){var n=t(e,2),o=n[0],i=n[1];r[o]=i}),r.render=a.bind(r),l.bind(r)(),r}return l(n,o.default),r(n,[{key:"toString",value:function(){return'View "'+this.name+'"'}}]),n}();exports.default=s;var p=exports.LoggingView=function(t){function n(e){c(this,n);var t=f(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));t.logger=u.default;var r=t.render;return t.render=function(){var e=t+' вызывает свой метод "render" для перерисовки с новыми данными';t.logger.addEntry(e),r.apply(void 0,arguments)},t}return l(n,s),r(n,[{key:"trigger",value:function(t){var r="На "+this+' триггерится событие "'+t+'"';this.logger.addEntry(r),e(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"trigger",this).call(this,t)}},{key:"subscribe",value:function(t,r){var o=this+' устанавливает обратотчик на событие "'+t+'".';u.default.addEntry(o),e(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"subscribe",this).call(this,t,r)}}]),n}();
},{"./Observer":10,"./Logger":11}],12:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),t=require("./Logger"),n=r(t);function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(e){a(this,t),this.dispatcher=e}return e(t,[{key:"createAction",value:function(e){var t=this;return function(n){t.dispatcher.dispatch({action:e,payload:n})}}}]),t}();exports.default=o;
},{"./Logger":11}],9:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.actionDataSent=void 0;var e=require("../../MyFlux/ActionCreator"),t=o(e),r=require("../../MyFlux/Dispatcher"),a=require("./constants");function o(e){return e&&e.__esModule?e:{default:e}}var i=new t.default(r.loggingDispatcher),n=exports.actionDataSent=i.createAction(a.DATA_SENT_SUCCESS);
},{"../../MyFlux/ActionCreator":12,"../../MyFlux/Dispatcher":6,"./constants":7}],4:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../../MyFlux/View"),t=require("../actions/actions"),i=function(e){console.log("Притворяемся, что отправляем данные на сервер... Данные успешно отправлены"),(0,t.actionDataSent)(e)},n=new e.LoggingView({name:"MyView",fields:{input:document.querySelector(".js-view-input"),submitBtn:document.querySelector(".js-view-submit-btn"),label:document.querySelector(".js-view-label")},methods:{onSubmit:function(e){e.preventDefault();var t=this.input.value;i(t)}},render:function(e){var t=e.data;this.label.innerHTML='Сервер принял данные: "'+t+'"'},init:function(){this.submitBtn.addEventListener("click",this.onSubmit)}});exports.default=n;
},{"../../MyFlux/View":8,"../actions/actions":9}],2:[function(require,module,exports) {
"use strict";var e=require("./app/configureStore"),r=a(e),t=require("./app/views/indexView"),u=a(t);function a(e){return e&&e.__esModule?e:{default:e}}var i=(0,r.default)();i.subscribe(u.default),u.default.subscribe("store_updated",function(){var e=i.getState();u.default.render(e)});
},{"./app/configureStore":3,"./app/views/indexView":4}]},{},[2])
//# sourceMappingURL=/app.a68c386d.map